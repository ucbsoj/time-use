import{j as o,k as h,m as w,D as v,B as k,o as _,s as C,q as F,v as D,w as R,x as d,C as p,y as T,R as A,z as E,A as B,F as g,G as I,U as N,M as O,H as z,I as Y,n as l,a as x,J as H}from"./Balg73jO.js";function m(s,n){var e={f:0,v:s,reactions:null,equals:D,rv:0,wv:0};return e}function y(s){return L(m(s))}function G(s,n=!1){const e=m(s);return n||(e.equals=F),e}function L(s){return o!==null&&!h&&o.f&v&&(_===null?Y([s]):_.push(s)),s}function J(s,n){return o!==null&&!h&&w()&&o.f&(v|k)&&(_===null||!_.includes(s))&&C(),M(s,n)}function M(s,n){return s.equals(n)||(s.v,s.v=n,s.wv=R(),q(s,g),d!==null&&d.f&p&&!(d.f&(T|A))&&(E===null?B([s]):E.push(s))),n}function q(s,n){var e=s.reactions;if(e!==null)for(var t=e.length,i=0;i<t;i++){var a=e[i],c=a.f;c&g||(I(a,n),c&(p|N)&&(c&v?q(a,O):z(a)))}}function U(s,n,e){if(s==null)return n(void 0),l;const t=x(()=>s.subscribe(n,e));return t.unsubscribe?()=>t.unsubscribe():t}const f=[];function K(s,n=l){let e=null;const t=new Set;function i(r){if(H(s,r)&&(s=r,e)){const b=!f.length;for(const u of t)u[1](),f.push(u,s);if(b){for(let u=0;u<f.length;u+=2)f[u][0](f[u+1]);f.length=0}}}function a(r){i(r(s))}function c(r,b=l){const u=[r,b];return t.add(u),t.size===1&&(e=n(i,a)||l),r(s),()=>{t.delete(u),t.size===0&&e&&(e(),e=null)}}return{set:i,update:a,subscribe:c}}function S(s){let n;return U(s,e=>n=e)(),n}export{J as a,U as b,y as c,S as g,M as i,G as m,m as s,K as w};
